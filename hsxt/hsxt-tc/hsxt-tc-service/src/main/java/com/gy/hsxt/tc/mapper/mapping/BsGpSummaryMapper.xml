<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.gy.hsxt.tc.mapper.BsGpSummaryMapper">
	<resultMap id="BaseResultMap" type="com.gy.hsxt.tc.bean.BsGpSummary">
		<id column="SUM_ID" property="sumId" jdbcType="DECIMAL" />
		<result column="ACC_DATE" property="tcDate" jdbcType="CHAR" />
		<result column="GP_TRAN_NUM" property="gpTranNum" jdbcType="DECIMAL" />
		<result column="GP_TRAN_AMOUNT" property="gpTranAmount" jdbcType="DECIMAL" />
		<result column="BS_TRAN_NUM" property="bsTranNum" jdbcType="DECIMAL" />
		<result column="BS_TRAN_AMOUNT" property="bsTranAmount" jdbcType="DECIMAL" />
		<result column="FLAT_NUM" property="flatNum" jdbcType="DECIMAL" />
		<result column="FLAT_AMOUNT" property="flatAmount" jdbcType="DECIMAL" />
		<result column="BS_HAVE_NUM" property="bsHaveNum" jdbcType="DECIMAL" />
		<result column="BS_HAVE_AMOUNT" property="bsHaveAmount" jdbcType="DECIMAL" />
		<result column="GP_HAVE_NUM" property="gpHaveNum" jdbcType="DECIMAL" />
		<result column="GP_HAVE_AMOUNT" property="gpHaveAmount" jdbcType="DECIMAL" />
		<result column="UPDATED_DATE" property="updatedDate" jdbcType="TIMESTAMP" />
		<result column="TC_RESULT" property="tcResult" jdbcType="DECIMAL" />
	</resultMap>

	<!--查询的列 -->
	<sql id="Base_Column_List">
	   SUM_ID,
       ACC_DATE,
       GP_TRAN_NUM,
       GP_TRAN_AMOUNT,
       BS_TRAN_NUM,
       BS_TRAN_AMOUNT,
       FLAT_NUM,
       FLAT_AMOUNT,
       BS_HAVE_NUM,
       BS_HAVE_AMOUNT,
       GP_HAVE_NUM,
       GP_HAVE_AMOUNT,
       UPDATED_DATE,
       TC_RESULT
	</sql>

	<!--分页查询条件 -->
	<sql id="Where_Condition">
		<where>
			<if test="beginDate != null">
				And TO_DATE(ACC_DATE,'YYYY-MM-DD') &gt;= TO_DATE(#{beginDate},'YYYY-MM-DD')
			</if>
			<if test="endDate != null">
				And TO_DATE(ACC_DATE,'YYYY-MM-DD') &lt;= TO_DATE(#{endDate},'YYYY-MM-DD')
			</if>
			<if test="tcResult != null">
				And TC_RESULT = #{tcResult}
			</if>
		</where>
	</sql>

	<!--分页查询 -->
	<select id="pagination" resultMap="BaseResultMap" parameterType="java.util.Map">
		<include refid="PaginationPrefix" />
		select
		<include refid="Base_Column_List" />
		from T_TC_BSGP_PAY_SUMMARY
		<include refid="Where_Condition" />
		<include refid="PaginationSuffix" />
	</select>

	<!--统计查询的总数 -->
	<select id="countTotalSize" parameterType="java.util.Map" resultType="java.lang.Integer">
		select count(*) from T_TC_BSGP_PAY_SUMMARY
		<include refid="Where_Condition" />
	</select>

	<!--分页查询前缀 -->
	<sql id="PaginationPrefix">
		<if test="page != null">
			select * from ( select row_.*, rownum rownum_ from (
		</if>
	</sql>


	<!--分页查询后缀 -->
	<sql id="PaginationSuffix">
		<if test="page != null">
      <![CDATA[ ) row_ ) where rownum_ > #{page.curPage} * #{page.pageSize} - #{page.pageSize} and rownum_ <=  #{page.curPage} * #{page.pageSize} ]]>
		</if>
	</sql>

</mapper>